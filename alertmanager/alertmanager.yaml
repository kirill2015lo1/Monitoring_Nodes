global:
  resolve_timeout: 15s  # –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è –∞–ª–µ—Ä—Ç–∞.
route:
  group_by: ['server'] 
  receiver: 'telegram'  # –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å—Å—è
  
  routes:
    - match:
        severity: 'Critical'  # –ê–ª–µ—Ä—Ç—ã —Å –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–∂–Ω–æ—Å—Ç—å—é.
      receiver: 'telegram'  # –ü–æ–ª—É—á–∞—Ç–µ–ª—å –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∞–ª–µ—Ä—Ç–æ–≤.
      group_wait: 10s  # –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è —Å–±–æ—Ä–∞ –∞–ª–µ—Ä—Ç–æ–≤ –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–µ—Ä–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö.
      group_interval: 5s  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö.
      repeat_interval: 5m  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö.

    - match:
        severity: 'Warning'  # –ê–ª–µ—Ä—Ç—ã —Å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ–º.
      receiver: 'telegram2'  # –ü–æ–ª—É—á–∞—Ç–µ–ª—å –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.
      group_wait: 10s  # –í—Ä–µ–º—è –æ–∂–∏–¥–∞–Ω–∏—è –¥–ª—è —Å–±–æ—Ä–∞ –∞–ª–µ—Ä—Ç–æ–≤ –¥–æ –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–µ—Ä–≤–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.
      group_interval: 5s  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –º–µ–∂–¥—É –≥—Ä—É–ø–ø–∞–º–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.
      repeat_interval: 1h  # –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –¥–ª—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π.

receivers:
  - name: 'telegram'
    telegram_configs:
      - chat_id: -  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Chat ID
        bot_token: ''  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Telegram Bot Token
        send_resolved: true
        message: |
          {{ if eq .Status "firing" }}üö® WARNING!
          {{ range .GroupLabels.SortedPairs }}{{ if eq .Name "server" }}{{ .Value }} –∏–º–µ–µ—Ç –ø—Ä–æ–±–ª–µ–º—ã:
          {{ end }}{{ end }}
          {{ range .Alerts }}
          üî¥ {{ .Labels.alertname }}
          –û–ø–∏—Å–∞–Ω–∏–µ: {{ .Annotations.summary }}
          –î–æ–ø. –ø–∏—Å–∞–Ω–∏–µ: {{ .Annotations.description }}
          –ù–∞—á–∞–ª–æ: {{ (.StartsAt | tz "Etc/GMT-5") | date "15:04 02-01-2006 MST" }}
          –°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å: {{ .Labels.severity }}
          {{ end }}

          {{ else if eq .Status "resolved" }}‚úÖ Resolved.
          {{ range .GroupLabels.SortedPairs }}{{ if eq .Name "server" }}{{ .Value }} –ø—Ä–æ–±–ª–µ–º—ã —Ä–µ—à–µ–Ω—ã:
          {{ end }}{{ end }}
          {{ range .Alerts }}
          üü¢ {{ .Labels.alertname }}
          –û–ø–∏—Å–∞–Ω–∏–µ: {{ .Annotations.summary }}
          –î–æ–ø. –ø–∏—Å–∞–Ω–∏–µ: {{ .Annotations.description }}
          –ù–∞—á–∞–ª–æ: {{ (.StartsAt | tz "Etc/GMT-5") | date "15:04 02-01-2006 MST" }}
          –†–µ—à–µ–Ω–æ: {{ (.EndsAt | tz "Etc/GMT-5") | date "15:04 02-01-2006 MST" }}
          –°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å: {{ .Labels.severity }}
          {{ end }}
          {{ end }}
  - name: 'telegram2'
    telegram_configs:
      - chat_id: - # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Chat ID
        bot_token: ''  # –ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à Telegram Bot Token
        send_resolved: false  # –ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ resolved.
        message: |
          {{ if eq .Status "firing" }}‚ö†Ô∏è Attention!
          {{ range .GroupLabels.SortedPairs }}{{ if eq .Name "server" }}{{ .Value }} –≤–Ω–∏–º–∞–Ω–∏–µ:
          {{ end }}{{ end }}
          {{ range .Alerts }}
          üü° {{ .Labels.alertname }}
          –û–ø–∏—Å–∞–Ω–∏–µ: {{ .Annotations.summary }}
          –î–æ–ø. –æ–ø–∏—Å–∞–Ω–∏–µ: {{ .Annotations.description }}
          –ù–∞—á–∞–ª–æ: {{ (.StartsAt | tz "Etc/GMT-5") | date "15:04 02-01-2006 MST" }}
          –°–µ—Ä—å–µ–∑–Ω–æ—Å—Ç—å: {{ .Labels.severity }}
          {{ end }}
          {{ end }}
#https://api.telegram.org/botTHERE_TOKEN/getUpdates 

 # tz "Etc/GMT-5" = —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å +5, –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞ –Ω—É–∂–Ω—ã–π 

 